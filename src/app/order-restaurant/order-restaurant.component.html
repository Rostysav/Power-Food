<div class="oder order-restourant section">
  <!-- <div class="container">
    <div class="row"> -->
      <!-- <div class="col-md-12">
        <div class="title">
          <h3>оформлення замовлення</h3>
          <p>Якщо ви вже купували -<a [routerLink]='["authorization"]'>авторизуйтесь</a></p>
        </div>
      </div> -->

      <div class="order-title-wrap order-product-list">
        <div class="container">
          <div class="row">
            <div class="col-md-12 order-list-title">
              <p>Товар</p>
              <p>Ціна</p>
              <p>Кількість</p>
              <p>Загалом</p>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="order-title-wrap ">
        <div class="container">
          <div class="row">

          </div>
        </div>
      </div> -->

      <div class="order-item order-product-list">

        <div class="order-item">
          <div class="order-title" *ngFor="let r of restaurant; let i = index;">
            <div class="container">
              <div class="row">
                <div class="col-md-12 col-sm-12">
                  <div class="item-name">
                    <img [src]="r.imageUrl">
                    <div>
                      <p>{{ r.name }}</p>
                      <button class="remove-order" (click)="removeProduct(r.id)">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 438.529 438.529" style="enable-background:new 0 0 438.529 438.529;" xml:space="preserve">
                          <g>
                            <g>
                              <path d="M417.689,75.654c-1.711-1.709-3.901-2.568-6.563-2.568h-88.224L302.917,25.41c-2.854-7.044-7.994-13.04-15.413-17.989    C280.078,2.473,272.556,0,264.945,0h-91.363c-7.611,0-15.131,2.473-22.554,7.421c-7.424,4.949-12.563,10.944-15.419,17.989    l-19.985,47.676h-88.22c-2.667,0-4.853,0.859-6.567,2.568c-1.709,1.713-2.568,3.903-2.568,6.567v18.274    c0,2.664,0.855,4.854,2.568,6.564c1.714,1.712,3.904,2.568,6.567,2.568h27.406v271.8c0,15.803,4.473,29.266,13.418,40.398    c8.947,11.139,19.701,16.703,32.264,16.703h237.542c12.566,0,23.319-5.756,32.265-17.268c8.945-11.52,13.415-25.174,13.415-40.971    V109.627h27.411c2.662,0,4.853-0.856,6.563-2.568c1.708-1.709,2.57-3.9,2.57-6.564V82.221    C420.26,79.557,419.397,77.367,417.689,75.654z M169.301,39.678c1.331-1.712,2.95-2.762,4.853-3.14h90.504    c1.903,0.381,3.525,1.43,4.854,3.14l13.709,33.404H155.311L169.301,39.678z M347.173,380.291c0,4.186-0.664,8.042-1.999,11.561    c-1.334,3.518-2.717,6.088-4.141,7.706c-1.431,1.622-2.423,2.427-2.998,2.427H100.493c-0.571,0-1.565-0.805-2.996-2.427    c-1.429-1.618-2.81-4.188-4.143-7.706c-1.331-3.519-1.997-7.379-1.997-11.561V109.627h255.815V380.291z" fill="#f0544f"/>
                              <path d="M137.04,347.172h18.271c2.667,0,4.858-0.855,6.567-2.567c1.709-1.718,2.568-3.901,2.568-6.57V173.581    c0-2.663-0.859-4.853-2.568-6.567c-1.714-1.709-3.899-2.565-6.567-2.565H137.04c-2.667,0-4.854,0.855-6.567,2.565    c-1.711,1.714-2.568,3.904-2.568,6.567v164.454c0,2.669,0.854,4.853,2.568,6.57C132.186,346.316,134.373,347.172,137.04,347.172z" fill="#f0544f"/>
                              <path d="M210.129,347.172h18.271c2.666,0,4.856-0.855,6.564-2.567c1.718-1.718,2.569-3.901,2.569-6.57V173.581    c0-2.663-0.852-4.853-2.569-6.567c-1.708-1.709-3.898-2.565-6.564-2.565h-18.271c-2.664,0-4.854,0.855-6.567,2.565    c-1.714,1.714-2.568,3.904-2.568,6.567v164.454c0,2.669,0.854,4.853,2.568,6.57C205.274,346.316,207.465,347.172,210.129,347.172z    " fill="#f0544f"/>
                              <path d="M283.22,347.172h18.268c2.669,0,4.859-0.855,6.57-2.567c1.711-1.718,2.562-3.901,2.562-6.57V173.581    c0-2.663-0.852-4.853-2.562-6.567c-1.711-1.709-3.901-2.565-6.57-2.565H283.22c-2.67,0-4.853,0.855-6.571,2.565    c-1.711,1.714-2.566,3.904-2.566,6.567v164.454c0,2.669,0.855,4.853,2.566,6.57C278.367,346.316,280.55,347.172,283.22,347.172z" fill="#f0544f"/>
                            </g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                          <g>
                          </g>
                        </svg>
                      </button>
                    </div>
                  </div>

                  <div class="price">
                    <span>Ціна:</span>
                    <!--<p>{{ items[i] }} штук по {{ r.price / items[i] }} грн = {{ r.price }} грн</p>-->
                    <!-- <p>{{ r.pieces }} x {{ r.price / r.pieces }} грн = {{ r.price }} грн</p> -->
                    <p>{{ r.price / r.pieces }} грн</p>
                  </div>

                  <div class="total-products">
                    <span>Кількість:</span>
                    <p>{{ r.pieces }}</p>
                  </div>

                  <div class="price total-price">
                    <span>Загальна ціна:</span>
                    <!-- <p>{{total}} грн</p> -->
                    <p>{{ (r.price / r.pieces) * r.pieces }} грн</p>
                  </div>

                </div>
              </div>
            </div>
            <!-- <div class="container">
              <div class="row">
                <div class="col-md-6 offset-md-3 col-sm-12">
                  <div class="price">
                    <span>Ціна:</span>
                    <p>{{ r.pieces }} x {{ r.price / r.pieces }} грн = {{ r.price }} грн</p>
                  </div>
                </div>
              </div>
            </div> -->
          </div>
          <!-- <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <div class="price">
                  <span>Загальна ціна:</span>
                  <p>{{total}} грн</p>
                </div>
              </div>
            </div>
          </div> -->

          <form method="POST" #r="ngForm"
              class="order-form" novalidate
              (ngSubmit)="onSubmit(r)"
              [formGroup]="myRestaurantForm">

          <!--input id must be honeypot or else it wont work-->
          <!-- <label class="sr-only">Keep this field blank</label>
          <input id="honeypot" type="text"
                 name="honeypot" value=""
                 formControlName='honeypot'/> -->
          <!--the rest of your form-->

          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Ім'я" formControlName="name" name="name"
                         pattern="[\u0400-\u04ff][\u0400-\u04ff ]+">
                  <mat-error *ngIf="myRestaurantForm.get('name').invalid && myRestaurantForm.get('name').touched">
                    Введіть не менше <strong>3</strong> і не більше <strong>15</strong> літер імені кирилицею
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <mat-form-field class="example-full-width">
                  <span matPrefix>+38 &nbsp;</span>
                  <input type="tel" matInput
                         placeholder="Телефон" formControlName="mobile" name="mobile"
                         (keypress)="onlyNumberKey($event)">

                  <mat-error *ngIf="myRestaurantForm.get('mobile').invalid
                  && (myRestaurantForm.get('mobile').dirty
                  || myRestaurantForm.get('mobile').touched)">
                    Введіть <strong>10</strong> цифр мобільного телефону
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12 sex">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Вулиця"
                         formControlName="address" name="address"
                         pattern="[\u0400-\u04ff][\u0400-\u04ff ]+">
                  <mat-error *ngIf="myRestaurantForm.get('address').invalid &&
                   (myRestaurantForm.get('address').dirty || myRestaurantForm.get('address').touched)">
                    Введіть вулицю (не менше трьох літер)
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6 offset-md-3 col-sm-12 sex">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Номер будинку"
                         formControlName="house" name="house">
                  <mat-error *ngIf="myRestaurantForm.get('house').invalid &&
                   (myRestaurantForm.get('house').dirty || myRestaurantForm.get('house').touched)">
                    Номер будинку (не менше однієї і не більше трьох цифр)
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6 offset-md-3 col-sm-12 sex">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Номер квартири"
                         formControlName="room" name="room">
                  <mat-error *ngIf="myRestaurantForm.get('room').invalid &&
                   (myRestaurantForm.get('room').dirty || myRestaurantForm.get('room').touched)">
                    Номер квартири (не менше однієї і не більше трьох цифр)
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row pay-type">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <p>Вибір оплати</p>
              </div>
            </div>
          </div>

          <!-- <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <label>Оберіть інтервал доставки</label>
                <mat-form-field>
                  <mat-select placeholder="Мінімальний інтервал 2 години" formControlName="delivery">
                    <mat-option *ngFor="let t of time" [value]="t.value">
                      {{t.value}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <label>Оберіть дату доставки</label>
                <mat-form-field>
                  <input matInput [matDatepicker]="picker" placeholder="Choose a date" formControlName="datepicker">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
          </div> -->

          <div class="container form-price">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <mat-radio-group formControlName="payment">
                  <mat-radio-button value="Онлайн оплата" checked="true">Онлайн оплата</mat-radio-button>
                  <mat-radio-button value="Готівка курєру">Готівка кур'єру</mat-radio-button>
                </mat-radio-group>
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <div class="price sum-price">
                  <span>Загальна ціна:</span>
                  <p>{{total}} грн</p>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <mat-checkbox formControlName="checkbox" required>
                  Я згоден з умовами даного
                  <a [routerLink]='["deliveri"]' target="_blank">договору</a>
                </mat-checkbox>
              </div>
            </div>
          </div> -->

          <div class="container">
            <div class="row">
              <div class="col-md-6 offset-md-3 col-sm-12">
                <div class="buy-link">

                  <button class="remove-order" (click)="removeFromLocalStorage()">Видалити замовлення</button>
                  <!--<button class="continue-order" (click)="redirectToHomePage()">Продовжити замовляти</button>-->
                  <button class="submit-btn" type="submit"
                          [disabled]="!myRestaurantForm.valid">Оформити замовлення</button>
                </div>
              </div>
            </div>
          </div>
        </form>

        </div>
          <!-- </div>
        </div> -->
      </div>

      <div class="empty-order">
        <h2>Корзина пуста</h2>
        <p>Для вибору товарів, перейдіть в наш
          <a [routerLink]="['/ration']">каталог товарів</a>
        </p>
      </div>

</div>
